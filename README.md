# Activité Pratique N°7

## Keycloak

### Création d'un realm

<img width="1680" alt="Screenshot 2024-01-14 at 17 46 58" src="https://github.com/DaddaAdam/Activite_pratique_7/assets/77986052/29a50dab-ed35-4661-b6c4-dcd0195b9239">

### Création d'utilisateurs et de rôles

<img width="1680" alt="Screenshot 2024-01-14 at 11 44 04" src="https://github.com/DaddaAdam/Activite_pratique_7/assets/77986052/5a27cfc2-c0ca-4ecd-bfda-2d074813e286">

### Test jwt token

<img width="1680" alt="Screenshot 2024-01-14 at 11 44 15" src="https://github.com/DaddaAdam/Activite_pratique_7/assets/77986052/6b956aca-5002-449c-b87d-384dbdf1b533">

### Contenu jwt token

<img width="1680" alt="Screenshot 2024-01-14 at 18 07 21" src="https://github.com/DaddaAdam/Activite_pratique_7/assets/77986052/b173cfed-77e4-4e59-9881-6b67c1452008">

## Front end Thymeleaf & Oauth2

### Authentification par keycloak

<img width="1680" alt="Screenshot 2024-01-16 at 20 03 46" src="https://github.com/DaddaAdam/Activite_pratique_7/assets/77986052/526f9f33-0e3a-4886-82ae-c8e9c2fb4ab6">

### Authentification par gmail

<img width="1680" alt="Screenshot 2024-01-14 at 15 53 25" src="https://github.com/DaddaAdam/Activite_pratique_7/assets/77986052/e471aae9-0e90-48e0-8b0a-c970e9b6a214">

### Authentification par github

<img width="1680" alt="Screenshot 2024-01-14 at 16 22 27" src="https://github.com/DaddaAdam/Activite_pratique_7/assets/77986052/2294bb55-e696-44ae-87e0-9ebc00868568">

### Création d'un filtre de sécurité

<img width="1680" alt="Screenshot 2024-01-16 at 16 03 07" src="https://github.com/DaddaAdam/Activite_pratique_7/assets/77986052/7da7b103-8175-4400-92a4-f3be516a946f">

### Affichage des clients pour les admin

<img width="1680" alt="Screenshot 2024-01-16 at 20 04 28" src="https://github.com/DaddaAdam/Activite_pratique_7/assets/77986052/18a6f06a-a630-40d1-8818-5ed926036604">

### Affichage des produits pour les admin (binding avec inventory service)

![Screenshot 2024-01-16 at 16 03 07 (2)](https://github.com/DaddaAdam/Activite_pratique_7/assets/77986052/4f8eb872-b007-47bb-a06e-c09f039b1769)

### Protection des routes contre les utilisateurs non authentifiés

<img width="1680" alt="Screenshot 2024-01-16 at 20 03 38" src="https://github.com/DaddaAdam/Activite_pratique_7/assets/77986052/98db0c91-8857-444b-921c-431832d07f53">

### Protection des routes contre les utilisateurs non autorisés

<img width="1680" alt="Screenshot 2024-01-16 at 20 04 07" src="https://github.com/DaddaAdam/Activite_pratique_7/assets/77986052/20e9e26e-410a-4c5c-b96e-43ca37396c92">

## Inventory Service

### Création et sécurisation d'un service REST

<img width="1680" alt="Screenshot 2024-01-16 at 21 34 28" src="https://github.com/DaddaAdam/Activite_pratique_7/assets/77986052/2a7c0b93-103e-4422-a8c1-58b0a7c34a12">

### Binding avec le frontend thymeleaf - affichage des produits gérés par Inventory Service

![Screenshot 2024-01-16 at 16 03 07 (2)](https://github.com/DaddaAdam/Activite_pratique_7/assets/77986052/9d7f6c37-d131-4be1-a12d-42b5368cd5bc)

## Front end Angular

### Création du template navbar

<img width="1680" alt="Screenshot 2024-01-16 at 19 16 28" src="https://github.com/DaddaAdam/Activite_pratique_7/assets/77986052/e61de99d-128d-4c8c-bdf1-52dc65de155f">

### Authentification par Keycloak

<img width="1680" alt="Screenshot 2024-01-16 at 21 50 16" src="https://github.com/DaddaAdam/Activite_pratique_7/assets/77986052/b83f33ba-95ac-453c-8025-0306701e51ec">

<img width="1680" alt="Screenshot 2024-01-16 at 21 50 34" src="https://github.com/DaddaAdam/Activite_pratique_7/assets/77986052/cf75e824-e3a5-40a5-8c06-9ef7cc4d8356">

### Erreur 401 pour les utilisateurs non ADMIN

<img width="1680" alt="Screenshot 2024-01-16 at 21 53 10" src="https://github.com/DaddaAdam/Activite_pratique_7/assets/77986052/33ce8a80-fc65-43d9-973f-faa99d9495fa">

### Affichage des produits pour les utilisateurs ADMIN

<img width="1680" alt="Screenshot 2024-01-16 at 21 50 54" src="https://github.com/DaddaAdam/Activite_pratique_7/assets/77986052/af465d46-cbc8-4de6-bd7a-8c796ba380fc">

## Docker

### Création des Dockerfiles et du docker-compose

<img width="1680" alt="Screenshot 2024-01-16 at 19 29 05" src="https://github.com/DaddaAdam/Activite_pratique_7/assets/77986052/67991c66-ad3a-41da-b3d8-699742a96784">

### Lancement du fichier docker-compose depuis IntelliJ

<img width="1680" alt="Screenshot 2024-01-16 at 19 48 31" src="https://github.com/DaddaAdam/Activite_pratique_7/assets/77986052/1c77f4e1-034a-4af8-9328-669ac8fdb6d0">

### Résultat final sur IntelliJ

<img width="1680" alt="Screenshot 2024-01-16 at 19 52 14" src="https://github.com/DaddaAdam/Activite_pratique_7/assets/77986052/859bc484-cf25-4223-91c6-005588b2e6d9">

### Résultat final depuis le dashboard de Docker Desktop

<img width="1680" alt="Screenshot 2024-01-16 at 19 50 51" src="https://github.com/DaddaAdam/Activite_pratique_7/assets/77986052/5ba5b8a2-64ab-41b3-adc7-2e21b87758d6">
